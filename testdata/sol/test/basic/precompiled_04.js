const Precompiled04 = artifacts.require("Precompiled04");

contract("Precompiled", async (accounts) => {

    it('0x04', async () => {
        const p04 = await Precompiled04.new();

        const ret1 = await p04.callDatacopy1.call('0x11223344556677889900');
        assert.equal(ret1, '0x11223344556677889900');

        const ret2 = await p04.callDatacopy2.call('0x111111112222222233333333444444445555555566666666777777778888888899999999aaaaaaaa');
        assert.equal(ret2, '0x11111111222222111111112222222233333333444444445555555566666666777777778888888899');
    
        await testcallDataCopy3(p04, 1, 
            '0x0102030405060708090a0b0c0d0e0f1112131415161718191a1b1c1d1e1f2122232425262728292a2b2c2d2e2f3132333435363738393a3b3c3d3e3f',
            '0x010102030405060708090a0b0c0d0e0f1112131415161718191a1b1c1d1e1f2122232425262728292a2b2c2d2e2f3132333435363738393a3b3c3d3e')
        await testcallDataCopy3(p04, 2, 
            '0x0102030405060708090a0b0c0d0e0f1112131415161718191a1b1c1d1e1f2122232425262728292a2b2c2d2e2f3132333435363738393a3b3c3d3e3f',
            '0x01020102030405060708090a0b0c0d0e0f1112131415161718191a1b1c1d1e1f2122232425262728292a2b2c2d2e2f3132333435363738393a3b3c3d')
        await testcallDataCopy3(p04, 3, 
            '0x0102030405060708090a0b0c0d0e0f1112131415161718191a1b1c1d1e1f2122232425262728292a2b2c2d2e2f3132333435363738393a3b3c3d3e3f',
            '0x0102030102030405060708090a0b0c0d0e0f1112131415161718191a1b1c1d1e1f2122232425262728292a2b2c2d2e2f3132333435363738393a3b3c')
        await testcallDataCopy3(p04, 5, 
            '0x0102030405060708090a0b0c0d0e0f1112131415161718191a1b1c1d1e1f2122232425262728292a2b2c2d2e2f3132333435363738393a3b3c3d3e3f',
            '0x01020304050102030405060708090a0b0c0d0e0f1112131415161718191a1b1c1d1e1f2122232425262728292a2b2c2d2e2f3132333435363738393a')
        await testcallDataCopy3(p04, 8, 
            '0x0102030405060708090a0b0c0d0e0f1112131415161718191a1b1c1d1e1f2122232425262728292a2b2c2d2e2f3132333435363738393a3b3c3d3e3f',
            '0x01020304050607080102030405060708090a0b0c0d0e0f1112131415161718191a1b1c1d1e1f2122232425262728292a2b2c2d2e2f31323334353637')
        await testcallDataCopy3(p04, 12, 
            '0x0102030405060708090a0b0c0d0e0f1112131415161718191a1b1c1d1e1f2122232425262728292a2b2c2d2e2f3132333435363738393a3b3c3d3e3f',
            '0x0102030405060708090a0b0c0102030405060708090a0b0c0d0e0f1112131415161718191a1b1c1d1e1f2122232425262728292a2b2c2d2e2f313233')
        await testcallDataCopy3(p04, 13, 
            '0x0102030405060708090a0b0c0d0e0f1112131415161718191a1b1c1d1e1f2122232425262728292a2b2c2d2e2f3132333435363738393a3b3c3d3e3f',
            '0x0102030405060708090a0b0c0d0102030405060708090a0b0c0d0e0f1112131415161718191a1b1c1d1e1f2122232425262728292a2b2c2d2e2f3132')
    });

});

async function testcallDataCopy3(p04, offset, input, output) {
    const ret = await p04.callDatacopy3.call(input, offset);
    assert.equal(ret, output);
}
